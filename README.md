# fpgachina2025_42855
## 2025年全国大学生嵌入式芯片与系统设计竞赛——FPGA创新设计大赛 - AMD赛道 - 自主选题 - 初级赛道
## YOLO v3 tiny的卷积神经网络加速器及图像实时处理

## 请在master下载完整的Project压缩包和权重文件压缩包！

## Vivado 2024.2

## 项目概述

该项目基于 ZYNQ-7100 平台，设计并实现了一套 YOLOv3-Tiny 的硬件加速方案，集成了摄像头数据采集、FPGA 推理和 HDMI 显示回显的完整流程。该方案通过软硬件协同，充分利用 FPGA 的并行计算优势，提高了目标检测的速度和效率，同时降低了功耗。

## 系统架构

系统包含两个主要组件：

处理系统 (PS)：负责摄像头接口、图像预处理、后处理、任务调度及数据传输。
可编程逻辑 (PL)：实现 YOLOv3-Tiny 网络的卷积、池化、激活、上采样等算子的硬件加速。数据通过 AXI4-Lite 和 AXI4-Stream 协议进行传输。

## 核心特点

INT8量化：采用 INT8 定点量化来优化计算效率并保持模型精度。
自定义卷积引擎：通过流水线和并行计算加速卷积运算，提升吞吐率。
AXI DMA 和 AXI-Stream：使用高效的数据传输接口，减少延迟。
实时处理：在 720P 分辨率下，达到 30 FPS 的实时处理能力。

## 硬件规格

目标设备：ZYNQ 7100
工作频率：200 MHz
基本资源占用：
    LUT: 19313，6.96%
    DSP: 304.15.05%
    BRAM: 147，19.47%
功耗：约 2.505 W
输入数据速率：11.85 GOPS
延迟要求：0.47s
精度要求：98%

## 主要模块

YOLO加速核心：实现卷积、量化、激活、池化等操作的硬件加速。
DMA 控制器：处理数据在 DDR 和 PL 之间的高效传输。
控制逻辑：简化的有限状态机 (FSM) 管理任务调度、数据传输和计算过程。

## 硬件验证

在 ZYNQ-7100 FPGA 上进行板级验证，实时目标检测功能稳定，测试结果符合预期。

## Q&A

Q1:本工程推荐的目标平台与资源门槛？
A:以 ZYNQ-7100 为标配，建议满足约 LUT≥20k、DSP≥300、BRAM≥150 的量级；Zynq-7000 其他型号也可移植，但需按资源重新配平并行度与缓冲深度。

Q2:移植的时候yolo模块的时钟出现了不匹配的问题怎么办？
A:经测试，该问题似乎为某些vivado的版本bug，使用tcl指令修改即可。

Q3:为何采用 INT8？对精度影响大吗？
A:INT8显著降低带宽与功耗，便于200 MHz下时序收敛；在合理校准/量化参数下，能在样例任务中保持既定精度目标。

Q4:权重文件如何导入？
A:通过SD卡，以bin文件的形式进行装载。

Q5:功耗大约多少、是否还能进一步降功？
A:现配置总功耗约 2.5 W；可通过提升数据复用、DMA 预取与计算重叠、细化流水线级数、适度门控/CE 控制等方式继续优化。

Q6:如何进行移植？
A:使用"project\src\scripts\project_1.tcl"的tcl脚本即可。

Q7:去雾版本可以移植吗？
A:理论上来说是没问题的，多算法的加入代表着难度的提升以及可能会导致很多不确定的因素（时序、资源等），但不乏是值得学习和优化的地方。

##谢谢 
